# Установка и запуск проекта

## Загрузка репозитория

```bash
git clone https://github.com/zxcpozer66/sfzProject.git
```

## Backend

### Установка, настройка и запуск

1. **Переходим в папку backend**

   ```bash
   cd ./backend
   ```

2. **Установка зависимостей**

   ```bash
   composer install
   ```

3. **Создание конфигурационного файла**

   ```bash
   copy .env.example .env
   ```

4. **Настройка базы данных**

   Отредактируйте файл `.env` и заполните настройки подключения к базе данных:

   ```env
   DB_CONNECTION=mysql
   DB_HOST=localhost
   DB_PORT=3306
   DB_DATABASE=your_database_name
   DB_USERNAME=your_username
   DB_PASSWORD=your_password
   ```

5. **Генерация ключа приложения**

   ```bash
   php artisan key:generate
   ```

6. **Создание миграции**

   ```bash
   php artisan migrate
   ```

7. **Заполнение базы данных начальными данными**

   ```bash
   php artisan db:seed
   ```

8. **Запуск backend сервера**
   ```bash
   php artisan serve
   ```

## Frontend

### Установка, настройка и запуск

1. **Переходим в папку frontend**

   ```bash
   cd ./../frontend
   ```

2. **Установка зависимостей**

   ```bash
   npm install
   ```

3. **Настройка пути к api**

Отредактируйте файл `./src/config/index.ts` и заполните настройки подключения к api backend:

```index.ts
apiUrl: "http://127.0.0.1:8000/"
```

4. **Запуск сервера разработки**
   ```bash
   npm run dev
   ```

# **Отчет по реализованному функционалу системы учета заявок**

## **Общее описание проекта**

Проект представляет собой веб-приложение, предназначенное для **учета рабочего времени** и **управления заявками** для сотрудников. Система позволяет:

- Управлять заявками в зависимости от роли пользователя.
- Использовать иерархическую структуру отделов с возможностью создания подотделов.
- Просматривать и редактировать заявки на отпуск.
- Реализовать полный цикл обработки заявок: от создания до утверждения или отклонения.

Система обеспечивает доступность данных в зависимости от роли пользователя через ограничения по ролям.

---

## **Реализованный функционал проекта**

В рамках проекта реализованы следующие ключевые функции:

- **Учет рабочего времени** — создание и управление заявками на рабочие часы.
- **Управление заявками на отпуск** — возможность создания, редактирования, удаления и просмотра заявок.
- **Управление структурой отделов** — создание отделов с возможностью вложенности (через `parent_id`).
- **Ролевая система** — разделение прав и доступа для:
  - **Мастера**
  - **Главного по отделу**
  - **CEO (Генерального директора)**

---

## **Логика функционирования по ролям**

### 1. **Мастер**

- Может **создавать заявки**.
- Может **редактировать** и **удалять** свои заявки.
- Может **создавать заявки на отпуск**, учитывая количество часов.
- Может **просматривать**, **скачивать**, **редактировать** и **удалять** свои заявки на отпуск.
- Удалить можно **только заявку со статусом "Ожидает принятия"**.
- Видит **только свои заявки** на главной странице.

---

### 2. **Главный по отделу**

- Может просматривать **заявки всех мастеров своего отдела**.
- Может **редактировать** и **удалять** заявки в пределах своего отдела.
- Может просматривать **заявки на отпуск** своих сотрудников.
- Может **менять статус** заявки на отпуск, если они находятся в статусе "Ожидает принятия".

---

### 3. **CEO (Генеральный директор)**

- Может **просматривать все заявки** (как на рабочие часы, так и на отпуск).
- Может **редактировать** и **удалять** заявки.
- Может **создавать** и **редактировать** отделы.


## Что доделать?
1. **Сделать корректный формат документа на подачу заявления на отпуск.**
2. **Возможность генереальному директору (ceo) просматривать все заявки с фильтрацией по отделам**.
3. **Переделать страницу отделы для более удобного взаимодействия с ней. Отображение департаментов в виде иерхического древа.**
